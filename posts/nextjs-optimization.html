<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Next.js 项目性能优化实践 - 頻率</title>
    <link rel="stylesheet" href="../src/style.css">
</head>
<body>
    <div id="app">
        <main class="blog-main">
            <header class="blog-header">
                <nav class="site-nav">
                    <a href="/">Blog</a>
                    <a href="/about">About</a>
                </nav>
                <h1>Next.js 项目性能优化实践</h1>
                <h2>2024-11-18</h2>
            </header>
            <article class="blog-content">
                <p>最近在对一个大型 Next.js 项目进行性能优化，分享一些实践经验和具体措施。</p>
                
                <h3>图片优化</h3>
                <p>Next.js 的图片优化是一个重要特性：</p>
                <ul>
                    <li>使用 next/image 组件自动优化图片</li>
                    <li>配置图片 CDN</li>
                    <li>合理设置图片尺寸和质量</li>
                    <li>使用 WebP 格式</li>
                </ul>

                <h3>路由优化</h3>
                <p>提升路由性能的关键点：</p>
                <pre><code>
// 预加载关键页面
export async function getStaticPaths() {
  return {
    paths: [
      { params: { id: '1' } },
      { params: { id: '2' } }
    ],
    fallback: 'blocking'
  }
}
                </code></pre>

                <h3>数据获取策略</h3>
                <p>选择合适的数据获取方式：</p>
                <ul>
                    <li>getStaticProps 用于静态数据</li>
                    <li>getServerSideProps 用于动态数据</li>
                    <li>客户端数据获取使用 SWR</li>
                    <li>增量静态再生成（ISR）</li>
                </ul>

                <h3>代码分割和懒加载</h3>
                <p>合理的代码分割策略：</p>
                <pre><code>
// 动态导入组件
const DynamicComponent = dynamic(() => 
  import('../components/heavy-component')
)
                </code></pre>

                <h3>缓存优化</h3>
                <p>多层缓存策略：</p>
                <ul>
                    <li>页面级缓存</li>
                    <li>API 路由缓存</li>
                    <li>数据库查询缓存</li>
                    <li>静态资源缓存</li>
                </ul>

                <p>最后，性能优化是一个持续的过程，需要不断监测和改进。建议使用 Lighthouse 和 Web Vitals 来跟踪性能指标。</p>
            </article>
            <footer class="blog-footer">
                <div class="copyright">© 2025 Designed and developed by Q Lee.</div>
            </footer>
        </main>
    </div>
</body>
</html>
